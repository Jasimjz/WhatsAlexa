let WhatsAlexa = require('../events');
let {MessageType,Mimetype} = require('@adiwajshing/baileys');
let fs = require('fs');
let ffmpeg = require('fluent-ffmpeg');
let {execFile} = require('child_process');
let cwebp = require('cwebp-bin');
let Config = require('../config');
let Language = require('../language');
let Lang = Language.getString('conventer');

if (Config.WORKTYPE == 'private') {

    WhatsAlexa.addCommand({pattern: 'mp4audio', fromMe: true, desc: Lang.MP4TOAUDİO_DESC}, (async (message, match) => {    

    var _0x3508ca=_0x5c7f;function _0x5c7f(_0x1e1507,_0x5d681c){var _0x29030b=_0x2903();return _0x5c7f=function(_0x5c7f3f,_0xc6d42b){_0x5c7f3f=_0x5c7f3f-0x18f;var _0x15987e=_0x29030b[_0x5c7f3f];return _0x15987e;},_0x5c7f(_0x1e1507,_0x5d681c);}(function(_0x35366d,_0x53463a){var _0x284925=_0x5c7f,_0x4c64e0=_0x35366d();while(!![]){try{var _0x15c030=parseInt(_0x284925(0x191))/0x1*(parseInt(_0x284925(0x1a7))/0x2)+-parseInt(_0x284925(0x19f))/0x3+parseInt(_0x284925(0x19a))/0x4*(-parseInt(_0x284925(0x197))/0x5)+-parseInt(_0x284925(0x192))/0x6+parseInt(_0x284925(0x196))/0x7+parseInt(_0x284925(0x18f))/0x8*(-parseInt(_0x284925(0x1a1))/0x9)+parseInt(_0x284925(0x1ab))/0xa*(parseInt(_0x284925(0x1a3))/0xb);if(_0x15c030===_0x53463a)break;else _0x4c64e0['push'](_0x4c64e0['shift']());}catch(_0x37db03){_0x4c64e0['push'](_0x4c64e0['shift']());}}}(_0x2903,0xcd0bc));if(message[_0x3508ca(0x1a9)]===![])return await message[_0x3508ca(0x193)][_0x3508ca(0x195)](message['jid'],Lang[_0x3508ca(0x1a0)],MessageType['text'],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message[_0x3508ca(0x1a6)]});var downloading=await message['client'][_0x3508ca(0x195)](message[_0x3508ca(0x19e)],Lang[_0x3508ca(0x194)],MessageType[_0x3508ca(0x198)],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message[_0x3508ca(0x1a6)]}),location=await message[_0x3508ca(0x193)][_0x3508ca(0x19b)]({'key':{'remoteJid':message['reply_message'][_0x3508ca(0x19e)],'id':message['reply_message']['id']},'message':message[_0x3508ca(0x1a9)]['data'][_0x3508ca(0x19c)]});function _0x2903(){var _0xa0c68e=['deleteMessage','27774021QFdqgc','audio','mp4Audio','data','1310206vvkHLv','withNoVideo','reply_message','key','10dRjssj','56BeHDeY','save','2mCHsFb','7214886BxWDTE','client','MP4TOAUDİO','sendMessage','10515813UttXCh','5665835yzVmFK','text','end','4vUUthG','downloadAndSaveMediaMessage','quotedMessage','output.mp3','jid','4901823HQMKjW','MP4TOAUDİO_NEEDREPLY','678753xzgwvX'];_0x2903=function(){return _0xa0c68e;};return _0x2903();}ffmpeg(location)[_0x3508ca(0x1a8)]()[_0x3508ca(0x190)](_0x3508ca(0x19d))['on'](_0x3508ca(0x199),async()=>{var _0x32dd84=_0x3508ca;await message['client']['sendMessage'](message[_0x32dd84(0x19e)],fs['readFileSync'](_0x32dd84(0x19d)),MessageType[_0x32dd84(0x1a4)],{'mimetype':Mimetype[_0x32dd84(0x1a5)],'ptt':![],'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message[_0x32dd84(0x1a6)]});});return await message['client'][_0x3508ca(0x1a2)](message[_0x3508ca(0x19e)],{'id':downloading[_0x3508ca(0x1aa)]['id'],'remoteJid':message[_0x3508ca(0x19e)],'fromMe':!![]});
    }));

    WhatsAlexa.addCommand({pattern: 'photo', fromMe: true, desc: Lang.STİCKER_DESC}, (async (message, match) => {   

    var _0x549a69=_0x582d;function _0x582d(_0x293dfc,_0x377faf){var _0x935883=_0x9358();return _0x582d=function(_0x582d35,_0x5e2871){_0x582d35=_0x582d35-0x1bd;var _0x5c792d=_0x935883[_0x582d35];return _0x5c792d;},_0x582d(_0x293dfc,_0x377faf);}(function(_0xc8c0c7,_0x512459){var _0x387e01=_0x582d,_0x4c8bfc=_0xc8c0c7();while(!![]){try{var _0xdf5961=-parseInt(_0x387e01(0x1d8))/0x1*(parseInt(_0x387e01(0x1d1))/0x2)+-parseInt(_0x387e01(0x1c4))/0x3+parseInt(_0x387e01(0x1c7))/0x4*(parseInt(_0x387e01(0x1c3))/0x5)+-parseInt(_0x387e01(0x1bf))/0x6*(parseInt(_0x387e01(0x1d0))/0x7)+parseInt(_0x387e01(0x1c2))/0x8+parseInt(_0x387e01(0x1c8))/0x9+-parseInt(_0x387e01(0x1cb))/0xa*(-parseInt(_0x387e01(0x1d3))/0xb);if(_0xdf5961===_0x512459)break;else _0x4c8bfc['push'](_0x4c8bfc['shift']());}catch(_0x366b42){_0x4c8bfc['push'](_0x4c8bfc['shift']());}}}(_0x9358,0xe56e9));if(message[_0x549a69(0x1c1)]===![])return await message[_0x549a69(0x1ca)]['sendMessage'](message[_0x549a69(0x1be)],Lang['STİCKER_NEEDREPLY'],MessageType['text'],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message[_0x549a69(0x1d7)]});var downloading=await message[_0x549a69(0x1ca)]['sendMessage'](message['jid'],Lang[_0x549a69(0x1cf)],MessageType[_0x549a69(0x1d5)],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message[_0x549a69(0x1d7)]}),location=await message[_0x549a69(0x1ca)][_0x549a69(0x1cd)]({'key':{'remoteJid':message[_0x549a69(0x1c1)][_0x549a69(0x1be)],'id':message[_0x549a69(0x1c1)]['id']},'message':message[_0x549a69(0x1c1)]['data']['quotedMessage']});function _0x9358(){var _0xb90ea4=['deleteMessage','reply_message','56qDwAjY','5XqUzPX','2467722MOouAs','image','readFileSync','7148248YTCEfZ','1228194pJIiWU','png','client','99170OHCQqx','key','downloadAndSaveMediaMessage','output.jpg','STİCKER','24829LqrXSp','2RkthQL','fromFormat','539KAZLJt','*Made\x20By\x20WhatsAlexa*','text','save','data','86715INPQMO','end','jid','948DkTbZg'];_0x9358=function(){return _0xb90ea4;};return _0x9358();}ffmpeg(location)[_0x549a69(0x1d2)]('webp_pipe')[_0x549a69(0x1d6)]('output.jpg')['on'](_0x549a69(0x1bd),async()=>{var _0x38968c=_0x549a69;await message[_0x38968c(0x1ca)]['sendMessage'](message[_0x38968c(0x1be)],fs[_0x38968c(0x1c6)](_0x38968c(0x1ce)),MessageType[_0x38968c(0x1c5)],{'mimetype':Mimetype[_0x38968c(0x1c9)],'caption':_0x38968c(0x1d4),'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message[_0x38968c(0x1d7)]});});return await message['client'][_0x549a69(0x1c0)](message['jid'],{'id':downloading[_0x549a69(0x1cc)]['id'],'remoteJid':message[_0x549a69(0x1be)],'fromMe':!![]});
    }));
}
else if (Config.WORKTYPE == 'public') {

    WhatsAlexa.addCommand({pattern: 'mp4audio', fromMe: false, desc: Lang.MP4TOAUDİO_DESC}, (async (message, match) => {   

    var _0x3508ca=_0x5c7f;function _0x5c7f(_0x1e1507,_0x5d681c){var _0x29030b=_0x2903();return _0x5c7f=function(_0x5c7f3f,_0xc6d42b){_0x5c7f3f=_0x5c7f3f-0x18f;var _0x15987e=_0x29030b[_0x5c7f3f];return _0x15987e;},_0x5c7f(_0x1e1507,_0x5d681c);}(function(_0x35366d,_0x53463a){var _0x284925=_0x5c7f,_0x4c64e0=_0x35366d();while(!![]){try{var _0x15c030=parseInt(_0x284925(0x191))/0x1*(parseInt(_0x284925(0x1a7))/0x2)+-parseInt(_0x284925(0x19f))/0x3+parseInt(_0x284925(0x19a))/0x4*(-parseInt(_0x284925(0x197))/0x5)+-parseInt(_0x284925(0x192))/0x6+parseInt(_0x284925(0x196))/0x7+parseInt(_0x284925(0x18f))/0x8*(-parseInt(_0x284925(0x1a1))/0x9)+parseInt(_0x284925(0x1ab))/0xa*(parseInt(_0x284925(0x1a3))/0xb);if(_0x15c030===_0x53463a)break;else _0x4c64e0['push'](_0x4c64e0['shift']());}catch(_0x37db03){_0x4c64e0['push'](_0x4c64e0['shift']());}}}(_0x2903,0xcd0bc));if(message[_0x3508ca(0x1a9)]===![])return await message[_0x3508ca(0x193)][_0x3508ca(0x195)](message['jid'],Lang[_0x3508ca(0x1a0)],MessageType['text'],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message[_0x3508ca(0x1a6)]});var downloading=await message['client'][_0x3508ca(0x195)](message[_0x3508ca(0x19e)],Lang[_0x3508ca(0x194)],MessageType[_0x3508ca(0x198)],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message[_0x3508ca(0x1a6)]}),location=await message[_0x3508ca(0x193)][_0x3508ca(0x19b)]({'key':{'remoteJid':message['reply_message'][_0x3508ca(0x19e)],'id':message['reply_message']['id']},'message':message[_0x3508ca(0x1a9)]['data'][_0x3508ca(0x19c)]});function _0x2903(){var _0xa0c68e=['deleteMessage','27774021QFdqgc','audio','mp4Audio','data','1310206vvkHLv','withNoVideo','reply_message','key','10dRjssj','56BeHDeY','save','2mCHsFb','7214886BxWDTE','client','MP4TOAUDİO','sendMessage','10515813UttXCh','5665835yzVmFK','text','end','4vUUthG','downloadAndSaveMediaMessage','quotedMessage','output.mp3','jid','4901823HQMKjW','MP4TOAUDİO_NEEDREPLY','678753xzgwvX'];_0x2903=function(){return _0xa0c68e;};return _0x2903();}ffmpeg(location)[_0x3508ca(0x1a8)]()[_0x3508ca(0x190)](_0x3508ca(0x19d))['on'](_0x3508ca(0x199),async()=>{var _0x32dd84=_0x3508ca;await message['client']['sendMessage'](message[_0x32dd84(0x19e)],fs['readFileSync'](_0x32dd84(0x19d)),MessageType[_0x32dd84(0x1a4)],{'mimetype':Mimetype[_0x32dd84(0x1a5)],'ptt':![],'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message[_0x32dd84(0x1a6)]});});return await message['client'][_0x3508ca(0x1a2)](message[_0x3508ca(0x19e)],{'id':downloading[_0x3508ca(0x1aa)]['id'],'remoteJid':message[_0x3508ca(0x19e)],'fromMe':!![]});
    }));

    WhatsAlexa.addCommand({pattern: 'photo', fromMe: false, desc: Lang.STİCKER_DESC}, (async (message, match) => {   

    var _0x549a69=_0x582d;function _0x582d(_0x293dfc,_0x377faf){var _0x935883=_0x9358();return _0x582d=function(_0x582d35,_0x5e2871){_0x582d35=_0x582d35-0x1bd;var _0x5c792d=_0x935883[_0x582d35];return _0x5c792d;},_0x582d(_0x293dfc,_0x377faf);}(function(_0xc8c0c7,_0x512459){var _0x387e01=_0x582d,_0x4c8bfc=_0xc8c0c7();while(!![]){try{var _0xdf5961=-parseInt(_0x387e01(0x1d8))/0x1*(parseInt(_0x387e01(0x1d1))/0x2)+-parseInt(_0x387e01(0x1c4))/0x3+parseInt(_0x387e01(0x1c7))/0x4*(parseInt(_0x387e01(0x1c3))/0x5)+-parseInt(_0x387e01(0x1bf))/0x6*(parseInt(_0x387e01(0x1d0))/0x7)+parseInt(_0x387e01(0x1c2))/0x8+parseInt(_0x387e01(0x1c8))/0x9+-parseInt(_0x387e01(0x1cb))/0xa*(-parseInt(_0x387e01(0x1d3))/0xb);if(_0xdf5961===_0x512459)break;else _0x4c8bfc['push'](_0x4c8bfc['shift']());}catch(_0x366b42){_0x4c8bfc['push'](_0x4c8bfc['shift']());}}}(_0x9358,0xe56e9));if(message[_0x549a69(0x1c1)]===![])return await message[_0x549a69(0x1ca)]['sendMessage'](message[_0x549a69(0x1be)],Lang['STİCKER_NEEDREPLY'],MessageType['text'],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message[_0x549a69(0x1d7)]});var downloading=await message[_0x549a69(0x1ca)]['sendMessage'](message['jid'],Lang[_0x549a69(0x1cf)],MessageType[_0x549a69(0x1d5)],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message[_0x549a69(0x1d7)]}),location=await message[_0x549a69(0x1ca)][_0x549a69(0x1cd)]({'key':{'remoteJid':message[_0x549a69(0x1c1)][_0x549a69(0x1be)],'id':message[_0x549a69(0x1c1)]['id']},'message':message[_0x549a69(0x1c1)]['data']['quotedMessage']});function _0x9358(){var _0xb90ea4=['deleteMessage','reply_message','56qDwAjY','5XqUzPX','2467722MOouAs','image','readFileSync','7148248YTCEfZ','1228194pJIiWU','png','client','99170OHCQqx','key','downloadAndSaveMediaMessage','output.jpg','STİCKER','24829LqrXSp','2RkthQL','fromFormat','539KAZLJt','*Made\x20By\x20WhatsAlexa*','text','save','data','86715INPQMO','end','jid','948DkTbZg'];_0x9358=function(){return _0xb90ea4;};return _0x9358();}ffmpeg(location)[_0x549a69(0x1d2)]('webp_pipe')[_0x549a69(0x1d6)]('output.jpg')['on'](_0x549a69(0x1bd),async()=>{var _0x38968c=_0x549a69;await message[_0x38968c(0x1ca)]['sendMessage'](message[_0x38968c(0x1be)],fs[_0x38968c(0x1c6)](_0x38968c(0x1ce)),MessageType[_0x38968c(0x1c5)],{'mimetype':Mimetype[_0x38968c(0x1c9)],'caption':_0x38968c(0x1d4),'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message[_0x38968c(0x1d7)]});});return await message['client'][_0x549a69(0x1c0)](message['jid'],{'id':downloading[_0x549a69(0x1cc)]['id'],'remoteJid':message[_0x549a69(0x1be)],'fromMe':!![]});
    }));
}
