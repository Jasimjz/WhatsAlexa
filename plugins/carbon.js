let WhatsAlexa = require('../events');
let {MessageType, MessageOptions, Mimetype} = require('@adiwajshing/baileys');
let axios = require('axios');
let fs = require('fs');
let Config = require('../config');
let Language = require('../language');
let Lang = Language.getString('carbon');

if (Config.WORKTYPE == 'private') {

    WhatsAlexa.addCommand({pattern: 'carbon ?(.*)', fromMe: true, desc: Lang.CARBON_DESC, warn: Lang.CARBON_WARN}, (async (message, match) => {

    function _0x1a17(_0x5a18bf,_0x12b99b){var _0x4ed35a=_0x4ed3();return _0x1a17=function(_0x1a170a,_0x47b720){_0x1a170a=_0x1a170a-0xd8;var _0x4f1fa5=_0x4ed35a[_0x1a170a];return _0x4f1fa5;},_0x1a17(_0x5a18bf,_0x12b99b);}function _0x4ed3(){var _0x20ba79=['4295515juZmYV','2392wKzTMp','%C3%9C','%C4%9E','data','%69','51201IuoxNE','sendMessage','336778ADZIlG','%C3%B6','client','png','CARBON_NEEDWORD','%250A','*Made\x20by\x20WhatsAlexa*','%C5%9F','image','text','%C3%BC','https://carbonnowsh.herokuapp.com/?code=','replace','get','1969572rmNKES','493610NagjPo','6135410vIaBQi','%C4%B1','arraybuffer','%C4%9F','3458082SrYzKy','%C4%B0','%C5%9E','%C3%96','%C3%A7','4dVVvRO'];_0x4ed3=function(){return _0x20ba79;};return _0x4ed3();}var _0xab6c37=_0x1a17;(function(_0x1a8cca,_0x13007e){var _0x4191dd=_0x1a17,_0x28a396=_0x1a8cca();while(!![]){try{var _0x1841a5=parseInt(_0x4191dd(0xec))/0x1+parseInt(_0x4191dd(0xdd))/0x2+-parseInt(_0x4191dd(0xeb))/0x3+parseInt(_0x4191dd(0xf6))/0x4*(parseInt(_0x4191dd(0xed))/0x5)+parseInt(_0x4191dd(0xf1))/0x6+parseInt(_0x4191dd(0xf7))/0x7+parseInt(_0x4191dd(0xf8))/0x8*(-parseInt(_0x4191dd(0xdb))/0x9);if(_0x1841a5===_0x13007e)break;else _0x28a396['push'](_0x28a396['shift']());}catch(_0x25d93d){_0x28a396['push'](_0x28a396['shift']());}}}(_0x4ed3,0xb0282));if(match[0x1]==='')return await message[_0xab6c37(0xdf)][_0xab6c37(0xdc)](message['jid'],Lang[_0xab6c37(0xe1)],MessageType[_0xab6c37(0xe6)],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message['data']});var respoimage=await axios[_0xab6c37(0xea)](_0xab6c37(0xe8)+match[0x1][_0xab6c37(0xe9)](/#/gi,_0xab6c37(0xe2))[_0xab6c37(0xe9)](/Ö/g,_0xab6c37(0xf4))['replace'](/ö/g,_0xab6c37(0xde))['replace'](/ü/g,_0xab6c37(0xe7))[_0xab6c37(0xe9)](/Ü/g,_0xab6c37(0xf9))[_0xab6c37(0xe9)](/Ğ/g,_0xab6c37(0xd8))[_0xab6c37(0xe9)](/ğ/g,_0xab6c37(0xf0))[_0xab6c37(0xe9)](/ş/g,_0xab6c37(0xe4))[_0xab6c37(0xe9)](/Ş/g,_0xab6c37(0xf3))[_0xab6c37(0xe9)](/ç/g,_0xab6c37(0xf5))[_0xab6c37(0xe9)](/Ç/g,'%C3%87')['replace'](/ı/g,_0xab6c37(0xee))[_0xab6c37(0xe9)](/i/g,_0xab6c37(0xda))[_0xab6c37(0xe9)](/"/g,'%22')['replace'](/İ/g,_0xab6c37(0xf2))+'&theme=blackboard&exportSize=3x&paddingVertical=200px&paddingHorizontal=200px&language=JavaScript',{'responseType':_0xab6c37(0xef)});await message['client'][_0xab6c37(0xdc)](message['jid'],Buffer['from'](respoimage['data']),MessageType[_0xab6c37(0xe5)],{'mimetype':Mimetype[_0xab6c37(0xe0)],'caption':_0xab6c37(0xe3),'quoted':message[_0xab6c37(0xd9)]});

    }));
}
else if (Config.WORKTYPE == 'public') {

    WhatsAlexa.addCommand({pattern: 'carbon ?(.*)', fromMe: false, desc: Lang.CARBON_DESC, warn: Lang.CARBON_WARN}, (async (message, match) => {

    function _0x1a17(_0x5a18bf,_0x12b99b){var _0x4ed35a=_0x4ed3();return _0x1a17=function(_0x1a170a,_0x47b720){_0x1a170a=_0x1a170a-0xd8;var _0x4f1fa5=_0x4ed35a[_0x1a170a];return _0x4f1fa5;},_0x1a17(_0x5a18bf,_0x12b99b);}function _0x4ed3(){var _0x20ba79=['4295515juZmYV','2392wKzTMp','%C3%9C','%C4%9E','data','%69','51201IuoxNE','sendMessage','336778ADZIlG','%C3%B6','client','png','CARBON_NEEDWORD','%250A','*Made\x20by\x20WhatsAlexa*','%C5%9F','image','text','%C3%BC','https://carbonnowsh.herokuapp.com/?code=','replace','get','1969572rmNKES','493610NagjPo','6135410vIaBQi','%C4%B1','arraybuffer','%C4%9F','3458082SrYzKy','%C4%B0','%C5%9E','%C3%96','%C3%A7','4dVVvRO'];_0x4ed3=function(){return _0x20ba79;};return _0x4ed3();}var _0xab6c37=_0x1a17;(function(_0x1a8cca,_0x13007e){var _0x4191dd=_0x1a17,_0x28a396=_0x1a8cca();while(!![]){try{var _0x1841a5=parseInt(_0x4191dd(0xec))/0x1+parseInt(_0x4191dd(0xdd))/0x2+-parseInt(_0x4191dd(0xeb))/0x3+parseInt(_0x4191dd(0xf6))/0x4*(parseInt(_0x4191dd(0xed))/0x5)+parseInt(_0x4191dd(0xf1))/0x6+parseInt(_0x4191dd(0xf7))/0x7+parseInt(_0x4191dd(0xf8))/0x8*(-parseInt(_0x4191dd(0xdb))/0x9);if(_0x1841a5===_0x13007e)break;else _0x28a396['push'](_0x28a396['shift']());}catch(_0x25d93d){_0x28a396['push'](_0x28a396['shift']());}}}(_0x4ed3,0xb0282));if(match[0x1]==='')return await message[_0xab6c37(0xdf)][_0xab6c37(0xdc)](message['jid'],Lang[_0xab6c37(0xe1)],MessageType[_0xab6c37(0xe6)],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':message['data']});var respoimage=await axios[_0xab6c37(0xea)](_0xab6c37(0xe8)+match[0x1][_0xab6c37(0xe9)](/#/gi,_0xab6c37(0xe2))[_0xab6c37(0xe9)](/Ö/g,_0xab6c37(0xf4))['replace'](/ö/g,_0xab6c37(0xde))['replace'](/ü/g,_0xab6c37(0xe7))[_0xab6c37(0xe9)](/Ü/g,_0xab6c37(0xf9))[_0xab6c37(0xe9)](/Ğ/g,_0xab6c37(0xd8))[_0xab6c37(0xe9)](/ğ/g,_0xab6c37(0xf0))[_0xab6c37(0xe9)](/ş/g,_0xab6c37(0xe4))[_0xab6c37(0xe9)](/Ş/g,_0xab6c37(0xf3))[_0xab6c37(0xe9)](/ç/g,_0xab6c37(0xf5))[_0xab6c37(0xe9)](/Ç/g,'%C3%87')['replace'](/ı/g,_0xab6c37(0xee))[_0xab6c37(0xe9)](/i/g,_0xab6c37(0xda))[_0xab6c37(0xe9)](/"/g,'%22')['replace'](/İ/g,_0xab6c37(0xf2))+'&theme=blackboard&exportSize=3x&paddingVertical=200px&paddingHorizontal=200px&language=JavaScript',{'responseType':_0xab6c37(0xef)});await message['client'][_0xab6c37(0xdc)](message['jid'],Buffer['from'](respoimage['data']),MessageType[_0xab6c37(0xe5)],{'mimetype':Mimetype[_0xab6c37(0xe0)],'caption':_0xab6c37(0xe3),'quoted':message[_0xab6c37(0xd9)]});

    }));
}
